# filename - 01_playbook_nxos.yml
# @author [Lucien Wright]
# @create date [02-05-2022]
# @desc [Automation - Pull Info from Switches]
# Note:
# Key lesson here was learning that I needed to (or can) seperate NXOS and IOS devices when running them in one playbook
---
- name: Network Getting Started First Playbook
  gather_facts: false
  hosts: cmiNet
  tasks:

    - name: Get config for IOS devices
      ios_facts:
        gather_subset: all

    - name: Display the config
      debug:
        msg: "The hostname is {{ ansible_net_hostname }} and the OS is {{ ansible_net_version }}"

# Basically the same config as above but specifically for the Nexus switch(es)
# 

- name: Get info from Nexus
  hosts: nxos
  tasks:

    - name: Get config for NXOS devices
      nxos_facts:
        gather_subset: all

    - name: Display the config
      debug:
        msg: "The hostname is {{ ansible_net_hostname }} and the OS is {{ ansible_net_version }}"
