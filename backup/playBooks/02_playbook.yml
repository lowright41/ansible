# filename - 02_playbook.yml
# @author [Lucien Wright]
# @create date [01-13-2022]
# @desc [Gather Hostname and IOS on Switches]

---
- name: Network Getting Started First Playbook Extended
  gather_facts: no
  hosts: all
  tasks:

    # - name: Get config for VyOS devices
    #   ios_facts:
    #     gather_subset: all

    - name: Gather facts (nxos)
      nxos_facts:
      when: ansible_network_os == 'nxos'

    - name: Gather facts (ios)
      ios_facts:
      when: ansible_network_os == 'ios'

    - name: Display the config
      debug:
        msg: "The hostname is {{ ansible_net_hostname }} and the OS is {{ ansible_net_version }}"

    # - name: Create Username
      # ios_config:
        # backup: yes
        # lines:
          # - username tester privilege 15 secret tester1

    # - name: Get changed config for IOS devices
      # ios_facts:
        # gather_subset: all

